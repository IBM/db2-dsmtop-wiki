{"componentChunkName":"component---src-pages-io-cf-status-mdx","path":"/IO-CFStatus/","result":{"pageContext":{"frontmatter":{"title":"IO - CF Status"},"relativePagePath":"/IO-CFStatus.mdx","titleType":"page","MdxNode":{"id":"1e063415-47fb-5c6c-b934-a35e31f6ca1a","children":[],"parent":"f9c99346-35bf-5766-8aa2-ba6050377205","internal":{"content":"---\ntitle: IO - CF Status\n---\n\n<h2>Purpose</h2>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">Show the current status of the cluster caching facility (CF).  A few items about the global buffer pool are also shown here.</p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">There are normally 2 CFs, the current primary and a peer.  It is possible, but not recommended, to run with a single CF. </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The purpose of the peer CF is for high availability.  If the primary CF fails, then the peer can take over.  The “State” property tracks failover and other HA type events with values such as BECOMING_PRIMARY and CATCHUP.</p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The global buffer pool (GBP) is part of the CF, so a few metrics about it are shown here.  There is only one GBP even if two CFs have been configured.  So items for the GBP are shown in a separate section at the bottom.</p>\n<p  style=\"margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:0.3in;margin-bottom:0.0001pt;text-indent:-0.3in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">This view is populated only if the monitored database is pureScale.  For non pureScale databases, dsmtop opens a pop-up with the message “Available only for pureScale”.</p>\n\n<p><img alt=\"IO-CF-Status.png\" lconnwikimacro=\"image\" src=\"../images/IO-CF-Status.png\" title=\"IO-CF-Status.png\"/></p>\n<h2>Histograms and Summaries (Gauges)</h2>\n\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">(none)</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<h2>Metrics Shown</h2>\n<p  style=\"margin-left:0in\">Metrics are presented in two columns, one for each CF.  The name of each CF is shown at the top of its column.  There is a small separate section at the bottom with two metrics for the global buffer pool.</p>\n<p  style=\"margin-left:0in\"> </p>\n<p  style=\"margin-left:0in\"><u>Instance ID</u></p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The instance ID is a member number, except that CF members are special purpose members that don’t show up in most of the monitoring.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056576.html\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.<a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056210.html\">id</a></span></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"><u>Home Host</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">The machine which was associated with the member when it was first added to the instance.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.home_host</span></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"><u>Current Host</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">The machine name on which the member is currently running.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.current_host</span></p>\n\n<p><u>State</u></p>\n<p>Normally one CF will be PRIMARY and one PEER.</p>\n\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Possible values are</p>\n<ul ><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">STOPPED</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">RESTARTING</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">BECOMING_PRIMARY</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">PRIMARY</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">CATCHUP1</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">PEER, ERROR</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt\">UNKNOWN</li></ul>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.<a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056799.html\">state</a></span></p>\n\n<p><u>Cross Invalidation Requests / sec</u></p>\n\n<p>Source: <span style=\"font-family:'courier new' , 'courier' , monospace\"><a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0059806.html\">mon_get_cf_cmd</a>.total_cf_requests</span></p>\n<p><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">Where <span style=\"font-family:'courier new' , 'courier' , monospace\">cf_cmd_name</span>='CrossInvalidate'</span></p>\n\n<p><u>Average Cross Invalidation Request Time (us)</u></p>\n<p>Average time for a cross invalidation command.  This should be less than 10 us, more than 20 us indicates a bottleneck.</p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056210.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_cf_cmd</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">total_cf_cmd_time_micro / total_cf_requests</span></p>\n<p><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">Where </span><span style=\"font-family:'courier new' , 'courier' , monospace\">cf_cmd_name</span><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">='CrossInvalidate'</span></p>\n\n<p><u>CPU Usage %</u></p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/c0061227.html\" style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif;line-height:normal\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.cpu_usage_total</span></p>\n\n<p><u>Memory Total (KB)</u></p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/c0061227.html\" style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif;line-height:normal\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.memory_total</span></p>\n\n<p><u>GBP Data Hit Ratio</u></p>\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0053941.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_service_subclass</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">100.0 * (pool_data_gbp_l_reads - pool_data_gbp_p_reads) / pool_data_gbp_l_reads</span></p>\n\n<p><u>GBP Full / 10k TX</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt\">Ideally, this is zero.  Up to about 5 is acceptable.  Higher values indicate possible configuration problems, including:</p>\n<ul ><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">GBP configured too small</li><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">Too few castout engines configured</li><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">SOFTMAX set too high</li></ul>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0059811.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_group_bufferpool</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">10,000 * (num_gbp_full) / total_app_commits</span></p>\n<h2>Default Sort Column</h2>\n<p>N / A – this view is not a grid.</p>\n<h2>Navigation</h2>\n<p>Keyboard navigation: Vic</p>\n<p>Dedicated shortcut key: (none)</p>\n\n<h6>Author: KevinLBeck</h6>","type":"Mdx","contentDigest":"a4c6de1df3a134a7960843577e8e3a5e","counter":100,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"IO - CF Status"},"exports":{},"rawBody":"---\ntitle: IO - CF Status\n---\n\n<h2>Purpose</h2>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">Show the current status of the cluster caching facility (CF).  A few items about the global buffer pool are also shown here.</p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">There are normally 2 CFs, the current primary and a peer.  It is possible, but not recommended, to run with a single CF. </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The purpose of the peer CF is for high availability.  If the primary CF fails, then the peer can take over.  The “State” property tracks failover and other HA type events with values such as BECOMING_PRIMARY and CATCHUP.</p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The global buffer pool (GBP) is part of the CF, so a few metrics about it are shown here.  There is only one GBP even if two CFs have been configured.  So items for the GBP are shown in a separate section at the bottom.</p>\n<p  style=\"margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:0.3in;margin-bottom:0.0001pt;text-indent:-0.3in;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">This view is populated only if the monitored database is pureScale.  For non pureScale databases, dsmtop opens a pop-up with the message “Available only for pureScale”.</p>\n\n<p><img alt=\"IO-CF-Status.png\" lconnwikimacro=\"image\" src=\"../images/IO-CF-Status.png\" title=\"IO-CF-Status.png\"/></p>\n<h2>Histograms and Summaries (Gauges)</h2>\n\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">(none)</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<h2>Metrics Shown</h2>\n<p  style=\"margin-left:0in\">Metrics are presented in two columns, one for each CF.  The name of each CF is shown at the top of its column.  There is a small separate section at the bottom with two metrics for the global buffer pool.</p>\n<p  style=\"margin-left:0in\"> </p>\n<p  style=\"margin-left:0in\"><u>Instance ID</u></p>\n<p  style=\"margin-bottom:0.0001pt;text-indent:0in;line-height:normal\">The instance ID is a member number, except that CF members are special purpose members that don’t show up in most of the monitoring.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056576.html\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.<a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056210.html\">id</a></span></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"><u>Home Host</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">The machine which was associated with the member when it was first added to the instance.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.home_host</span></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"><u>Current Host</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">The machine name on which the member is currently running.</p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\"> </p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.current_host</span></p>\n\n<p><u>State</u></p>\n<p>Normally one CF will be PRIMARY and one PEER.</p>\n\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">Possible values are</p>\n<ul ><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">STOPPED</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">RESTARTING</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">BECOMING_PRIMARY</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">PRIMARY</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">CATCHUP1</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt;line-height:normal\">PEER, ERROR</li><li style=\"margin-bottom:0in;margin-bottom:0.0001pt\">UNKNOWN</li></ul>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0056718.html\">db2_get_instance_info</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.<a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056799.html\">state</a></span></p>\n\n<p><u>Cross Invalidation Requests / sec</u></p>\n\n<p>Source: <span style=\"font-family:'courier new' , 'courier' , monospace\"><a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0059806.html\">mon_get_cf_cmd</a>.total_cf_requests</span></p>\n<p><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">Where <span style=\"font-family:'courier new' , 'courier' , monospace\">cf_cmd_name</span>='CrossInvalidate'</span></p>\n\n<p><u>Average Cross Invalidation Request Time (us)</u></p>\n<p>Average time for a cross invalidation command.  This should be less than 10 us, more than 20 us indicates a bottleneck.</p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.admin.mon.doc/doc/r0056210.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_cf_cmd</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">total_cf_cmd_time_micro / total_cf_requests</span></p>\n<p><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">Where </span><span style=\"font-family:'courier new' , 'courier' , monospace\">cf_cmd_name</span><span style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif\">='CrossInvalidate'</span></p>\n\n<p><u>CPU Usage %</u></p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/c0061227.html\" style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif;line-height:normal\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.cpu_usage_total</span></p>\n\n<p><u>Memory Total (KB)</u></p>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/c0061227.html\" style=\"font-family:'helvetica neue' , 'helvetica' , 'arial' , sans-serif;line-height:normal\">sysibmadm.env_cf_sys_resources</a><span style=\"font-family:'courier new' , 'courier' , monospace\">.memory_total</span></p>\n\n<p><u>GBP Data Hit Ratio</u></p>\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0053941.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_service_subclass</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">100.0 * (pool_data_gbp_l_reads - pool_data_gbp_p_reads) / pool_data_gbp_l_reads</span></p>\n\n<p><u>GBP Full / 10k TX</u></p>\n<p  style=\"margin-bottom:0in;margin-bottom:0.0001pt\">Ideally, this is zero.  Up to about 5 is acceptable.  Higher values indicate possible configuration problems, including:</p>\n<ul ><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">GBP configured too small</li><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">Too few castout engines configured</li><li style=\"text-indent: -0.25in; margin-bottom: 0.0001pt; line-height: normal; margin-left: 0.5in !important;\">SOFTMAX set too high</li></ul>\n\n<p>Source: <a href=\"http://www.ibm.com/support/knowledgecenter/en/SSEPGG_10.5.0/com.ibm.db2.luw.sql.rtn.doc/doc/r0059811.html\"><span style=\"font-family:'courier new' , 'courier' , monospace\">mon_get_group_bufferpool</span></a></p>\n<p  style=\"margin-left:0.5in\"><span style=\"font-family:'courier new' , 'courier' , monospace\">10,000 * (num_gbp_full) / total_app_commits</span></p>\n<h2>Default Sort Column</h2>\n<p>N / A – this view is not a grid.</p>\n<h2>Navigation</h2>\n<p>Keyboard navigation: Vic</p>\n<p>Dedicated shortcut key: (none)</p>\n\n<h6>Author: KevinLBeck</h6>","fileAbsolutePath":"/Users/asaini/infra/dsmtop_wiki/db2-dsmtop-wiki/src/pages/IO-CFStatus.mdx"}}},"staticQueryHashes":["1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","63531786","63531786","768070550"]}